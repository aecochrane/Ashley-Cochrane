/*!CK:2740205756!*//*1452040576,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["HlNRQ"]); }

__d('Barrier',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){'use strict';if(i===undefined||i<0||j===undefined)return null;if(i==0){j();return;}this.ops_num=i;this.callback=j;}h.prototype.notify=function(){'use strict';if(this.ops_num<=0)return;this.ops_num--;if(this.ops_num==0)this.callback();};f.exports=h;},null);
__d("XEgoExpandAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ego\/expand\/",{service_id:{type:"String",required:true},filter_ids:{type:"String",defaultValue:""},num_requested:{type:"Int",required:true},pagination_offset:{type:"Int",defaultValue:0}});},null);
__d("XPubcontentImpressionLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/suggestions\/impression_logging\/",{});},null);
__d('NetEgoShowcase',['Arbiter','AsyncRequest','AsyncResponse','CSS','DOM','Event','Parent','TidyArbiterMixin','XEgoExpandAsyncController','XPubcontentImpressionLoggingController','csx','cx','mixin','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w,x={UPDATED:0,UPDATING:1};v=babelHelpers.inherits(y,t(o));w=v&&v.prototype;function y(z,aa){'use strict';w.constructor.call(this);this.$NetEgoShowcase1=z;this.$NetEgoShowcase2=[];this.$NetEgoShowcase3=aa.serializedData;this.$NetEgoShowcase4=aa.autoExpandLimit;this.$NetEgoShowcase5=aa.serviceId;this.$NetEgoShowcase6=aa.requestSize;this.$NetEgoShowcase7=x.UPDATED;this.$NetEgoShowcase8=0;u(this.$NetEgoShowcase1.subscribe('page_end',this.$NetEgoShowcase9.bind(this)),h.subscribe('netego_replacedUnit',this.$NetEgoShowcase10.bind(this)),m.listen(this.$NetEgoShowcase1.getNode(),'click',this.$NetEgoShowcase11.bind(this)));this.$NetEgoShowcase12(aa.firstItemId);}y.prototype.$NetEgoShowcase13=function(){'use strict';if(!this.$NetEgoShowcase4||this.$NetEgoShowcase7===x.UPDATING)return;this.$NetEgoShowcase7=x.UPDATING;var z=l.scry(this.$NetEgoShowcase1.getNode(),'.ego_unit');if(z.length<this.$NetEgoShowcase4&&z.length-this.$NetEgoShowcase1.getIndex()<=3){var aa=this.$NetEgoShowcase4-z.length;this.$NetEgoShowcase14(aa>this.$NetEgoShowcase6?aa%this.$NetEgoShowcase6+this.$NetEgoShowcase6:aa);return;}this.$NetEgoShowcase7=x.UPDATED;};y.prototype.$NetEgoShowcase14=function(z){'use strict';var aa=Object.keys(this.$NetEgoShowcase3),ba=p.getURIBuilder().setString('service_id',this.$NetEgoShowcase5).setString('filter_ids',JSON.stringify(aa)).setInt('num_requested',z).setInt('pagination_offset',this.$NetEgoShowcase8).getURI();new i(ba).setHandler(this.$NetEgoShowcase15.bind(this)).setErrorHandler(this.$NetEgoShowcase15.bind(this)).setRelativeTo(this.$NetEgoShowcase1.getNode()).send();};y.prototype.$NetEgoShowcase15=function(z){'use strict';if(!z.getError()){var aa=z.getPayload().suggestions;this.$NetEgoShowcase8+=aa.length;for(var ba=0;ba<aa.length;ba++){var ca=l.create('li',{className:"_2xr"},aa[ba]);this.$NetEgoShowcase1.push(ca);}var da=z.getPayload().serializedData;for(var ea in da)this.$NetEgoShowcase3[ea]=da[ea];}this.$NetEgoShowcase7=x.UPDATED;};y.prototype.$NetEgoShowcase11=function(event){'use strict';var z=event.getTarget(),aa=this.$NetEgoShowcase16(z,'ego_x');if(!aa){aa=this.$NetEgoShowcase16(z,'ego_like');if(!aa)return;}var ba=l.scry(aa,'^.ego_unit');if(!ba.length)return;this.$NetEgoShowcase1.remove(this.$NetEgoShowcase1.getIndex());};y.prototype.$NetEgoShowcase16=function(z,aa){'use strict';if(k.hasClass(z,aa))return z;var ba=l.scry(z,'^.'+aa);if(ba.length)return ba[0];return null;};y.prototype.$NetEgoShowcase10=function(z,aa){'use strict';var ba=l.scry(this.$NetEgoShowcase1.getNode(),"li._2xr");for(var ca=0;ca<ba.length;ca++)if(!ba[ca].childNodes.length)this.$NetEgoShowcase1.remove(ca);var da=l.scry(this.$NetEgoShowcase1.getNode(),'.ego_unit');if(!da.length){var ea=n.byClass(this.$NetEgoShowcase1.getNode(),'ego_section');if(ea)k.hide(ea);return;}if(!aa.serializedData)return;var fa=da[this.$NetEgoShowcase1.getIndex()].getAttribute('data-ego-fbid'),ga=JSON.parse(aa.serializedData);for(var ha in ga)if(fa===ha){this.$NetEgoShowcase3[ha]=ga[ha];this.$NetEgoShowcase12(ha);}};y.prototype.$NetEgoShowcase9=function(event){'use strict';var z=l.scry(this.$NetEgoShowcase1.getNode(),'.ego_unit'),aa=z[this.$NetEgoShowcase1.getIndex()].getAttribute('data-ego-fbid');this.$NetEgoShowcase12(aa);this.$NetEgoShowcase13();};y.prototype.$NetEgoShowcase12=function(z){'use strict';var aa=this.$NetEgoShowcase2.indexOf(z)>-1;if(!aa&&this.$NetEgoShowcase3[z]){this.$NetEgoShowcase2.push(z);var ba=q.getURIBuilder();new i().setMethod('POST').setURI(ba.getURI()).setData({q:this.$NetEgoShowcase3[z]}).send();}};f.exports=y;},null);
__d('PubcontentSuggestionsUtil',['DOM','DOMDimensions','LitestandEllipsis','Parent','Style','csx','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o={truncateName:function(p,q){var r=h.scry(p,'.nameText')[0];if(r){var s=l.getFloat(p,'lineHeight')*q;j.add(r,s,p);var t=h.scry(p.parentNode,'.socialContext')[0];if(t){s=l.getFloat(p,'lineHeight')*q*2-i.getElementDimensions(p).height;j.add(t,s,t);}}},truncateText:function(p,q){if(p){var r=l.getFloat(p,'lineHeight')*q;j.add(p,r,p);}},truncateAllText:function(p,q){var r,s=h.scry(p,'.ego_title');for(r=0;r<s.length;r++)o.truncateName(s[r],2);var t=h.scry(p,'.descriptionText');for(r=0;r<t.length;r++)o.truncateText(t[r],3);var u=h.scry(p,'.ego_like');for(r=0;r<u.length;r++)o.cutLikeButtonText(u[r],q);},cutButtonText:function(p){var q=k.bySelector(p,"._5ry0");if(q&&i.getElementDimensions(p).width>i.getElementDimensions(q).width){var r=h.scry(p,'input')[0];r.value='';}},cutLikeButtonText:function(p,q){var r=q?k.byClass(p,'ego_unit'):k.byClass(p,'likeButton');if(r&&i.getElementDimensions(p).width>i.getElementDimensions(r).width){var s=h.scry(p,'img');if(s.length){s[0].parentNode.removeChild(s[0].nextSibling);}else{s=h.scry(p,'i');if(s.length)s[0].parentNode.removeChild(s[0].nextSibling);}}}};f.exports=o;},null);
__d('Showcase',['Animation','Barrier','Ease','Slideshow','Style','shield'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p=j.sineInOut;n=babelHelpers.inherits(q,k);o=n&&n.prototype;q.prototype._animateTo=function(r){'use strict';if(this._animating)return;var s=this._items.length,t=(r+s)%s;if(t==this._currentIndex)return;var u=new i(2,m(this._setCurrent,this,t)),v=u.notify.bind(u);this._animating=true;this.inform('page_start',t);this._conditionFade(this._items[this._currentIndex],false,v);this._conditionFade(this._items[t],true,v);};q.prototype._conditionFade=function(r,s,t){'use strict';l.set(r,'visibility','visible');new h(r).from('opacity',s?0:1).to('opacity',s?1:0).duration(this._config.animationDuration).ease(p).ondone(function(){if(!s)l.set(r,'visibility','hidden');t();}).go();};function q(){'use strict';n.apply(this,arguments);}f.exports=q;},null);